// [DOZ-ROUTER]  Build version: 0.1.4  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("DozRouter",[],e):"object"==typeof exports?exports.DozRouter=e():t.DozRouter=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";t.exports=n(1)},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(2),o=i.REGEX,s=i.PATH,a=i.NS,u=n(3),h=n(4),c=n(5);t.exports={props:{hash:"#",classActiveLink:"router-link-active",linkAttr:"router-link",mode:"hash",root:"/"},autoCreateChildren:!1,onCreate:function(){this.$_currentView=null,this.$_currentViewRaw="",this.$_currentFullPath=null,this.$_currentPath=null,this.$_routes=[],this.$_paramMap={},this.$_param={},this.$_routeNotFound="",this.$_query={},this.$_queryRaw="",this.$_link={},this.$_pauseHashListener=!1},$removeView:function(){this.$_currentView&&(this.$_currentView.destroy(),this.$_currentView=null)},$setView:function(t,e,n){var r=this.$_currentViewRaw===t;if(e&&r){var i=this.$_currentView.children[0],o=i[e];"function"==typeof o&&o.call(i,this)}else n&&r?this.$_currentView.children[0].render():(this.$removeView(),this.$_currentView=this.mount(t));this.$_currentViewRaw=t},$query:function(t){return this.$_query[t]},$param:function(t){return this.$_param[t]},$navigate:function(t,e){"history"===this.props.mode?(history.pushState(t,null,c(this.props.root+t)),this.$_navigate(t,e)):(this.$_pauseHashListener=!0,window.location.href=this.props.hash+t,this.$_navigate(t,e),this.$_pauseHashListener=!1)},$_navigate:function(t,e){var n=this,i=!1,o=window.location.hash.slice(this.props.hash.length),s=window.location.pathname+window.location.search,a=void 0;t=t||o,"history"===this.props.mode&&(t=s),a=t;var c=t.split("?");if(t=h(c[0]),this.$_currentFullPath===a)return!1;this.$_queryRaw=c[1]||"";for(var p=0;p<this.$_routes.length;p++){var l=this.$_routes[p],_=new RegExp("^"+l.path+"$"),d=t.match(_);if(d){i=!0,"object"===(void 0===e?"undefined":r(e))?this.$_param=Object.assign({},e):function(){var t=n.$_paramMap[l.path];n.$_query=u(n.$_queryRaw),d.slice(1).forEach(function(e,r){n.$_param[t[r]]=e})}(),this.$_currentPath=t,this.$_currentFullPath=a,this.$setView(l.view,l.cb,l.preserve);break}}return i||(this.$_currentPath=null,this.$_currentFullPath=null,this.$setView(this.$_routeNotFound||'"'+t+'" not found')),this.$activeLink(),i},$activeLink:function(){var t=this;Object.keys(this.$_link).forEach(function(e){var n=Boolean(t.$_link[e].length>1&&t.$_queryRaw);t.$_link[e].forEach(function(r){var i=!0;n&&(i=new RegExp(t.$_queryRaw+"$","g").test(r.href)),e===t.$_currentPath&&i?r.classList.add(t.props.classActiveLink):r.classList.remove(t.props.classActiveLink)})})},$add:function(t,e){if(t===s.NOT_FOUND)this.$_routeNotFound=e;else{var n=[],r=h(t);r=r.replace(/:(\w+)/g,function(t,e){return n.push(e),"([\\w-]+)"}),this.$_paramMap[r]=n;var i=e.match(o.CHANGE);i&&(i=i[1]);var a=o.IS_PRESERVE.test(e);this.$_routes.push({path:r,view:e,cb:i,preserve:a})}},$remove:function(t){for(var e=0;e<this.$_routes.length;e++){this.$_routes[e].path===h(t)&&this.$_routes.splice(e,1)}},$bindLink:function(){var t=this;this.$_link={},document.querySelectorAll("["+this.props.linkAttr+"]").forEach(function(e){var n=e.pathname||e.href;"history"===t.props.mode?e.addEventListener("click",function(r){r.preventDefault();var i=n+e.search;history.pushState(i,null,c(t.props.root+i)),t.$_navigate(i)}):e.href=t.props.hash+n+e.search;var r=n.split("?");n=h(r[0]),void 0===t.$_link[n]?t.$_link[n]=[e]:t.$_link[n].push(e)})},onAppReady:function(){var t=this;window.removeEventListener("popstate",window[a.popstate]),window[a.popstate]=function(e){t.$_navigate(e.state)},window.removeEventListener("hashchange",window[a.hashchange]),window[a.hashchange]=function(){t.$_pauseHashListener||t.$_navigate()},window.removeEventListener("DOMContentLoaded",window[a.DOMContentLoaded]),window[a.DOMContentLoaded]=function(){t.$_navigate()},this.rawChildren.forEach(function(e){var n=e.match(o.ROUTE);n&&t.$add(n[1],e)}),this.$bindLink(),"history"===this.props.mode?window.addEventListener("popstate",window[a.popstate]):window.addEventListener("hashchange",window[a.hashchange]),window.addEventListener("DOMContentLoaded",window[a.DOMContentLoaded])},onMountAsync:function(){this.$_navigate()}}},function(t,e,n){"use strict";t.exports={REGEX:{ROUTE:/route(?:\s+)?=(?:\s+)?"(.*)"/,CHANGE:/route-change(?:\s+)?=(?:\s+)?"(.*?)"/,IS_PRESERVE:/\spreserve[>\s=]/},PATH:{NOT_FOUND:"*"},NS:{hashchange:"___doz_router___hashchangeListener",popstate:"___doz_router___popstateListener",DOMContentLoaded:"___doz_router___DOMContentLoadedListener"}}},function(t,e,n){"use strict";t.exports=function(t){return t?JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)}):{}}},function(t,e,n){"use strict";t.exports=function(t){return t.toString().replace(/\/+$/,"").replace(/^\//,"")}},function(t,e,n){"use strict";t.exports=function(t){return t.replace(/\/{2,}/g,"/")}}])}); 