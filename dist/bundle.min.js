// [DozRouter]  Build version: 1.12.3  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("doz")):"function"==typeof define&&define.amd?define("DozRouter",["doz"],e):"object"==typeof exports?exports.DozRouter=e(require("doz")):t.DozRouter=e(t.Doz)}(this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(e,n){e.exports=t},function(t,e){t.exports={REGEX:{ROUTE:/route(?:\s+)?=(?:\s+)?"(.*?)"/,CHANGE:/route-change(?:\s+)?=(?:\s+)?"(.*?)"/,IS_PRESERVE:/\spreserve[>\s=]/},PATH:{NOT_FOUND:"*"},NS:{hashchange:"___doz_router___hashchangeListener",popstate:"___doz_router___popstateListener",DOMContentLoaded:"___doz_router___DOMContentLoadedListener"},PRERENDER:"__DOZ_PRERENDER_PUBLIC_URL__",SSR:"__DOZ_SSR_PATH__",LS_LAST_PATH:"dozRouterLastPath"}},function(t,e){t.exports=function(t){var e={};if(!t)return e;for(var n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");o.length&&(e[o.splice(0,1)[0]]=decodeURIComponent(o.join("=")))}return e}},function(t,e){t.exports=function(t){return t.toString().replace(/\/+$/,"").replace(/^\//,"")}},function(t,e){t.exports=function(t){return t.replace(/\/{2,}/g,"/")}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=n(1),a=s.REGEX,u=s.PATH,h=s.NS,c=s.PRERENDER,l=s.SSR,p=s.LS_LAST_PATH,d=n(2),_=n(3),f=n(4),w=n(0),v={name:"doz-router",props:{hash:"#",classActiveLink:"router-link-active",linkAttr:"data-router-link",isLinkAttr:"data-is-router-link",mode:"hash",root:"/",initialRedirect:""},autoCreateChildren:!1,onBeforeCreate:function(){var t=location.search.split("?");t[1]?(this._query=d(t[1]),this._queryRaw=t[1]):(this._query={},this._queryRaw="")},onCreate:function(){this._currentView=null,this._currentViewRaw="",this._currentFullPath=null,this._currentPath=null,this._routes=[],this._paramMap={},this._param={},this._routeNotFound="",this._link={},this._pauseHashListener=!1,this._noDestroy=this.props.hasOwnProperty("noDestroy"),this._noDestroyedInstances={},this._lastUrl="","function"==typeof w.mixin&&w.mixin({router:this}),this._LS_LAST_PATH=this.props.initialRedirectLastKeyName||p,this.props.hasOwnProperty("initialRedirectLast")&&window.localStorage&&window.localStorage.getItem(this._LS_LAST_PATH)&&(this._lastUrl=window.localStorage.getItem(this._LS_LAST_PATH))},removeView:function(){if(this._currentView){if(this._noDestroy){var t=this._currentView.unmount();this._noDestroyedInstances[t.rawChildren[0]]=t}else this._currentView.destroy();this._currentView=null,this.flushDeadLink()}},setView:function(t,e,n){var r=this._currentViewRaw===t;if(e&&r){var i=this._currentView.children[0],o=i[e];"function"==typeof o&&o.call(i,this)}else n&&r?this._currentView.children[0].render():(this.removeView(),this._currentView=this._noDestroy&&this._noDestroyedInstances[t]?this._noDestroyedInstances[t].mount():this.mount(t));this._currentViewRaw=t},query:function(t){return this._query[t]},param:function(t){return this._param[t]},navigate:function(t,e,n){if("history"===this.props.mode){if(window[c])history.pushState(t,null,f(window[c].replace(location.origin,"")+t));else{if(n)return history.replaceState(t,null,f(this.props.root+t));history.pushState(t,null,f(this.props.root+t))}this._navigate(t,e)}else this._pauseHashListener=!0,window.location.href=this.props.hash+t,this._navigate(t,e),this._pauseHashListener=!1},currentPath:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this._currentPath:this._currentFullPath},$query:function(t){return this.query(t)},$param:function(t){return this.param(t)},$navigate:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.navigate.apply(this,e)},$currentPath:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.currentPath.apply(this,e)},_navigate:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=window.location.hash.slice(this.props.hash.length),u=window.location.pathname+window.location.search,h=t;if(t=t||a,"history"===this.props.mode&&(t=u),!window[c]&&!window[l]){if(("/"===h||""===h||null===h)&&i&&this._lastUrl){var p=this._lastUrl;if(this.props.root&&p){var w=this.props.root.replace(/\//g,"\\/");p=p.replace(new RegExp("^"+w,""),"")}return this.navigate(p)}if(("/"===t||""===t)&&i&&this.props.initialRedirect)return this.navigate(this.props.initialRedirect)}t=window[l]||t,window[c]&&(t=(location.origin+t).replace(window[c],"")),n=t=this.electronFixer(t);var v,y=t.split("?");if(t=_(y[0]),this._currentFullPath===n)return!1;this._queryRaw=y[1]||"",("/"===t||""===t)&&i&&this.props.initialRedirect&&(t=f(_(this.props.root)+this.props.initialRedirect));for(var g=0;g<this._routes.length;g++){var m=this._routes[g];v="*"===m.path?t?new RegExp(".+"):new RegExp("^$"):new RegExp("^/?"+m.path+"$");var L=t.match(v);if(L){s=!0,e&&"object"===o(e)?this._param=Object.assign({},e):function(){var t=r._paramMap[m.path];r._query=d(r._queryRaw),L.slice(1).forEach((function(e,n){r._param[t[n]]=e}))}(),this._currentPath=t,this._currentFullPath=n,this.setView(m.view,m.cb,m.preserve),window.localStorage&&window.localStorage.setItem(this._LS_LAST_PATH,n);break}}return s||(this._currentPath=null,this._currentFullPath=null,this.setView(this._routeNotFound||'"'.concat(t,'" not found'))),this.activeLink(),s},activeLink:function(){var t=this;Object.keys(this._link).forEach((function(e){var n=Boolean(t._link[e].size>1&&t._queryRaw);t._link[e].forEach((function(r){var i=!0;n&&(i=new RegExp("".concat(t._queryRaw,"$"),"g").test(r.href)),e=t.electronFixer(e);var o=!1;if(void 0!==r.dataset.routerLinkRadix&&e&&t._currentPath){var s=e.split("/"),a=t._currentPath.split("/");o=s[0]===a[0]}(e===t._currentPath||o)&&i?r.classList.add(t.props.classActiveLink):r.classList.remove(t.props.classActiveLink)}))}))},electronFixer:function(t){return"file:"===location.protocol&&t.includes(":")&&(t=t.substr(3)),t},add:function(t,e){if(t===u.NOT_FOUND)this._routeNotFound=e;else{var n=[],r=_(t);r=(r=r.replace(/:(\w+)/g,(function(t,e){return n.push(e),"([\\w-]+)"}))).replace(/\/\*/g,"(?:/.*)?"),this._paramMap[r]=n;var i=null,o=!1;"string"==typeof e?(i=e.match(a.CHANGE),o=a.IS_PRESERVE.test(e)):(i=e.props["route-change"],o=e.props.preserve),i&&(i=i[1]),""===o&&(o=!0),this._routes.push({path:r,view:e,cb:i,preserve:o})}},remove:function(t){for(var e=0;e<this._routes.length;e++)this._routes[e].path===_(t)&&this._routes.splice(e,1)},checkIfAlreadyRootExists:function(){},bindLink:function(){var t=this;window.document.querySelectorAll("[".concat(this.props.linkAttr,"]")).forEach((function(e){var n=e.pathname||e.href;if(e.dataset.isRouterLink="true","history"===t.props.mode){void 0===e.dataset.routerAnchorLink&&(e.pathname?n=e.pathname=f(t.props.root+e.pathname):e.href&&(n=e.href=f(t.props.root+e.href)));var r=n+e.search;e.dataset.routerPath=r,window[c]||e.dataset.routerListener||(e.addEventListener("click",(function(n){n.preventDefault();var r=e.dataset.routerPath;history.pushState(r,null,r),t._navigate(r)})),e.dataset.routerListener="true")}else e.href=t.props.hash+n+e.search;var i=n.split("?");n=_(i[0]),void 0===t._link[n]?(t._link[n]=new Set,t._link[n].add(e)):t._link[n].has(e)||t._link[n].add(e)}))},flushDeadLink:function(){var t=this;Object.keys(this._link).forEach((function(e){t._link[e]&&t._link[e].forEach((function(n){n.isConnected||t._link[e].delete(n)}))}))},init:function(){var t=this;window.removeEventListener("popstate",window[h.popstate]),window[h.popstate]=function(e){var n=e.state;if(null==n&&t.props.initialRedirect)return t.navigate(t.props.initialRedirect,{},!0);t._navigate(n)},window.removeEventListener("hashchange",window[h.hashchange]),window[h.hashchange]=function(){t._pauseHashListener||t._navigate()},window.removeEventListener("DOMContentLoaded",window[h.DOMContentLoaded]),window[h.DOMContentLoaded]=function(){t._navigate(null,null,!0)},this.rawChildrenObject&&this.rawChildrenObject.length?this.rawChildrenObject.forEach((function(e){if(e&&"object"===o(e)){var n=e.props.route;n&&t.add(n,e)}})):this.rawChildren.forEach((function(e){var n=e.match(a.ROUTE);n&&t.add(n[1],e)})),this.bindLink(),"history"===this.props.mode?window.addEventListener("popstate",window[h.popstate]):window.addEventListener("hashchange",window[h.hashchange]),window.addEventListener("DOMContentLoaded",window[h.DOMContentLoaded])},onAppReady:function(){this.init()},onMountAsync:function(){this._navigate(null,null,!0)}};"undefined"!=typeof window&&i.a.component("doz-router",v),e.default=v}])})); 