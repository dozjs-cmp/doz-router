// [DozRouter]  Build version: 1.2.0  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("doz")):"function"==typeof define&&define.amd?define("DozRouter",["doz"],e):"object"==typeof exports?exports.DozRouter=e(require("doz")):t.DozRouter=e(t.Doz)}(this,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof window&&r.default.component("doz-router",o.default),e.default=o.default},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(3),i=o.REGEX,s=o.PATH,a=o.NS,u=o.PRERENDER,c=o.SSR,h=n(4),p=n(5),l=n(6);e.default={props:{hash:"#",classActiveLink:"router-link-active",linkAttr:"router-link",mode:"hash",root:"/"},autoCreateChildren:!1,onCreate:function(){this.$_currentView=null,this.$_currentViewRaw="",this.$_currentFullPath=null,this.$_currentPath=null,this.$_routes=[],this.$_paramMap={},this.$_param={},this.$_routeNotFound="",this.$_query={},this.$_queryRaw="",this.$_link={},this.$_pauseHashListener=!1},$removeView:function(){this.$_currentView&&(this.$_currentView.destroy(),this.$_currentView=null)},$setView:function(t,e,n){var r=this.$_currentViewRaw===t;if(e&&r){var o=this.$_currentView.children[0],i=o[e];"function"==typeof i&&i.call(o,this)}else n&&r?this.$_currentView.children[0].render():(this.$removeView(),this.$_currentView=this.mount(t));this.$_currentViewRaw=t},$query:function(t){return this.$_query[t]},$param:function(t){return this.$_param[t]},$navigate:function(t,e){"history"===this.props.mode?(window[u]?history.pushState(t,null,l(window[u].replace(location.origin,"")+t)):history.pushState(t,null,l(this.props.root+t)),this.$_navigate(t,e)):(this.$_pauseHashListener=!0,window.location.href=this.props.hash+t,this.$_navigate(t,e),this.$_pauseHashListener=!1)},$currentPath:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.$_currentPath:this.$_currentFullPath},$_navigate:function(t,e){var n,o=this,i=!1,s=window.location.hash.slice(this.props.hash.length),a=window.location.pathname+window.location.search;t=t||s,"history"===this.props.mode&&(t=a),t=window[c]||t,window[u]&&(t=(location.origin+t).replace(window[u],"")),n=t;var l=t.split("?");if(t=p(l[0]),this.$_currentFullPath===n)return!1;this.$_queryRaw=l[1]||"";for(var d=0;d<this.$_routes.length;d++){var _=this.$_routes[d],f=new RegExp("^"+_.path+"$"),$=t.match(f);if($){i=!0,"object"===(void 0===e?"undefined":r(e))?this.$_param=Object.assign({},e):function(){var t=o.$_paramMap[_.path];o.$_query=h(o.$_queryRaw),$.slice(1).forEach(function(e,n){o.$_param[t[n]]=e})}(),this.$_currentPath=t,this.$_currentFullPath=n,this.$setView(_.view,_.cb,_.preserve);break}}return i||(this.$_currentPath=null,this.$_currentFullPath=null,this.$setView(this.$_routeNotFound||'"'+t+'" not found')),this.$activeLink(),i},$activeLink:function(){var t=this;Object.keys(this.$_link).forEach(function(e){var n=Boolean(t.$_link[e].length>1&&t.$_queryRaw);t.$_link[e].forEach(function(r){var o=!0;n&&(o=new RegExp(t.$_queryRaw+"$","g").test(r.href)),e===t.$_currentPath&&o?r.classList.add(t.props.classActiveLink):r.classList.remove(t.props.classActiveLink)})})},$add:function(t,e){if(t===s.NOT_FOUND)this.$_routeNotFound=e;else{var n=[],r=p(t);r=(r=r.replace(/:(\w+)/g,function(t,e){return n.push(e),"([\\w-]+)"})).replace(/\/\*/g,"(?:/.*)?"),this.$_paramMap[r]=n;var o=e.match(i.CHANGE);o&&(o=o[1]);var a=i.IS_PRESERVE.test(e);this.$_routes.push({path:r,view:e,cb:o,preserve:a})}},$remove:function(t){for(var e=0;e<this.$_routes.length;e++)this.$_routes[e].path===p(t)&&this.$_routes.splice(e,1)},$bindLink:function(){var t=this;this.$_link={},document.querySelectorAll("["+this.props.linkAttr+"]").forEach(function(e){var n=e.pathname||e.href;"history"===t.props.mode?window[u]||e.addEventListener("click",function(r){r.preventDefault();var o=n+e.search;history.pushState(o,null,l(t.props.root+o)),t.$_navigate(o)}):e.href=t.props.hash+n+e.search;var r=n.split("?");n=p(r[0]),void 0===t.$_link[n]?t.$_link[n]=[e]:t.$_link[n].push(e)})},onAppReady:function(){var t=this;window.removeEventListener("popstate",window[a.popstate]),window[a.popstate]=function(e){t.$_navigate(e.state)},window.removeEventListener("hashchange",window[a.hashchange]),window[a.hashchange]=function(){t.$_pauseHashListener||t.$_navigate()},window.removeEventListener("DOMContentLoaded",window[a.DOMContentLoaded]),window[a.DOMContentLoaded]=function(){t.$_navigate()},this.rawChildren.forEach(function(e){var n=e.match(i.ROUTE);n&&t.$add(n[1],e)}),this.$bindLink(),"history"===this.props.mode?window.addEventListener("popstate",window[a.popstate]):window.addEventListener("hashchange",window[a.hashchange]),window.addEventListener("DOMContentLoaded",window[a.DOMContentLoaded])},onMountAsync:function(){this.$_navigate()}}},function(t,e,n){"use strict";t.exports={REGEX:{ROUTE:/route(?:\s+)?=(?:\s+)?"(.*)"/,CHANGE:/route-change(?:\s+)?=(?:\s+)?"(.*?)"/,IS_PRESERVE:/\spreserve[>\s=]/},PATH:{NOT_FOUND:"*"},NS:{hashchange:"___doz_router___hashchangeListener",popstate:"___doz_router___popstateListener",DOMContentLoaded:"___doz_router___DOMContentLoadedListener"},PRERENDER:"__DOZ_PRERENDER_PUBLIC_URL__",SSR:"__DOZ_SSR_PATH__"}},function(t,e,n){"use strict";t.exports=function(t){return t?JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)}):{}}},function(t,e,n){"use strict";t.exports=function(t){return t.toString().replace(/\/+$/,"").replace(/^\//,"")}},function(t,e,n){"use strict";t.exports=function(t){return t.replace(/\/{2,}/g,"/")}}])}); 