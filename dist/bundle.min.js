// [DozRouter]  Build version: 1.8.0  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("doz")):"function"==typeof define&&define.amd?define("DozRouter",["doz"],e):"object"==typeof exports?exports.DozRouter=e(require("doz")):t.DozRouter=e(t.Doz)}(this,function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(e,r){e.exports=t},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(0)),i=o(r(2));function o(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof window&&n.default.component("doz-router",i.default),e.default=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(3),o=i.REGEX,s=i.PATH,a=i.NS,u=i.PRERENDER,h=i.SSR,c=i.LS_LAST_PATH,l=r(4),p=r(5),d=r(6),_=r(0);e.default={props:{hash:"#",classActiveLink:"router-link-active",linkAttr:"data-router-link",isLinkAttr:"data-is-router-link",mode:"hash",root:"/",initialRedirect:""},autoCreateChildren:!1,onCreate:function(){this._currentView=null,this._currentViewRaw="",this._currentFullPath=null,this._currentPath=null,this._routes=[],this._paramMap={},this._param={},this._routeNotFound="",this._query={},this._queryRaw="",this._link={},this._pauseHashListener=!1,this._noDestroy=this.props.hasOwnProperty("noDestroy"),this._noDestroyedInstances={},this._lastUrl="","function"==typeof _.mixin&&_.mixin({router:this}),this._LS_LAST_PATH=this.props.initialRedirectLastKeyName||c,this.props.hasOwnProperty("initialRedirectLast")&&window.localStorage&&window.localStorage.getItem(this._LS_LAST_PATH)&&(this._lastUrl=window.localStorage.getItem(this._LS_LAST_PATH))},removeView:function(){if(this._currentView){if(this._noDestroy){var t=this._currentView.unmount();this._noDestroyedInstances[t.rawChildren[0]]=t}else this._currentView.destroy();this._currentView=null}},setView:function(t,e,r){var n=this._currentViewRaw===t;if(e&&n){var i=this._currentView.children[0],o=i[e];"function"==typeof o&&o.call(i,this)}else r&&n?this._currentView.children[0].render():(this.removeView(),this._currentView=this._noDestroy&&this._noDestroyedInstances[t]?this._noDestroyedInstances[t].mount():this.mount(t));this._currentViewRaw=t},query:function(t){return this._query[t]},param:function(t){return this._param[t]},navigate:function(t,e,r){if("history"===this.props.mode){if(window[u])history.pushState(t,null,d(window[u].replace(location.origin,"")+t));else{if(r)return history.replaceState(t,null,d(this.props.root+t));history.pushState(t,null,d(this.props.root+t))}this._navigate(t,e)}else this._pauseHashListener=!0,window.location.href=this.props.hash+t,this._navigate(t,e),this._pauseHashListener=!1},currentPath:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this._currentPath:this._currentFullPath},$query:function(t){return this.query(t)},$param:function(t){return this.param(t)},$navigate:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.navigate.apply(this,e)},$currentPath:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.currentPath.apply(this,e)},_navigate:function(t,e){var r,i=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=window.location.hash.slice(this.props.hash.length),c=window.location.pathname+window.location.search,_=t;if(t=t||a,"history"===this.props.mode&&(t=c),!window[u]&&!window[h]){if(("/"===_||""===_||null===_)&&o&&this._lastUrl){var f=this._lastUrl;if(this.props.root&&f){var w=this.props.root.replace(/\//g,"\\/");f=f.replace(new RegExp("^"+w,""),"")}return this.navigate(f)}if(("/"===t||""===t)&&o&&this.props.initialRedirect)return this.navigate(this.props.initialRedirect)}t=window[h]||t,window[u]&&(t=(location.origin+t).replace(window[u],"")),r=t=this.electronFixer(t);var v=t.split("?");if(t=p(v[0]),this._currentFullPath===r)return!1;this._queryRaw=v[1]||"";var y=void 0;("/"===t||""===t)&&o&&this.props.initialRedirect&&(t=d(p(this.props.root)+this.props.initialRedirect));for(var g=0;g<this._routes.length;g++){var m=this._routes[g];y="*"===m.path?t?new RegExp(".+"):new RegExp("^$"):new RegExp("^/?"+m.path+"$");var L=t.match(y);if(L){s=!0,e&&"object"===(void 0===e?"undefined":n(e))?this._param=Object.assign({},e):function(){var t=i._paramMap[m.path];i._query=l(i._queryRaw),L.slice(1).forEach(function(e,r){i._param[t[r]]=e})}(),this._currentPath=t,this._currentFullPath=r,this.setView(m.view,m.cb,m.preserve),window.localStorage&&window.localStorage.setItem(this._LS_LAST_PATH,r);break}}return s||(this._currentPath=null,this._currentFullPath=null,this.setView(this._routeNotFound||'"'+t+'" not found')),this.activeLink(),s},activeLink:function(){var t=this;Object.keys(this._link).forEach(function(e){var r=Boolean(t._link[e].length>1&&t._queryRaw);t._link[e].forEach(function(n){var i=!0;r&&(i=new RegExp(t._queryRaw+"$","g").test(n.href)),(e=t.electronFixer(e))===t._currentPath&&i?n.classList.add(t.props.classActiveLink):n.classList.remove(t.props.classActiveLink)})})},electronFixer:function(t){return"file:"===location.protocol&&t.includes(":")&&(t=t.substr(3)),t},add:function(t,e){if(t===s.NOT_FOUND)this._routeNotFound=e;else{var r=[],n=p(t);n=(n=n.replace(/:(\w+)/g,function(t,e){return r.push(e),"([\\w-]+)"})).replace(/\/\*/g,"(?:/.*)?"),this._paramMap[n]=r;var i=null,a=!1;"string"==typeof e?(i=e.match(o.CHANGE),a=o.IS_PRESERVE.test(e)):(i=e.props["route-change"],a=e.props.preserve),i&&(i=i[1]),this._routes.push({path:n,view:e,cb:i,preserve:a})}},remove:function(t){for(var e=0;e<this._routes.length;e++)this._routes[e].path===p(t)&&this._routes.splice(e,1)},bindLink:function(){var t=this;window.document.querySelectorAll("["+this.props.linkAttr+"]:not(["+this.props.isLinkAttr+"])").forEach(function(e){var r=e.pathname||e.href;if(e.dataset.isRouterLink="true","history"===t.props.mode){e.pathname?r=e.pathname=d(t.props.root+e.pathname):e.href&&(r=e.href=d(t.props.root+e.href));var n=r+e.search;window[u]||e.addEventListener("click",function(e){e.preventDefault(),history.pushState(n,null,n),t._navigate(n)})}else e.href=t.props.hash+r+e.search;var i=r.split("?");r=p(i[0]),void 0===t._link[r]?t._link[r]=[e]:t._link[r].push(e)})},onAppReady:function(){var t=this;window.removeEventListener("popstate",window[a.popstate]),window[a.popstate]=function(e){var r=e.state;if(null==r&&t.props.initialRedirect)return t.navigate(t.props.initialRedirect,{},!0);t._navigate(r)},window.removeEventListener("hashchange",window[a.hashchange]),window[a.hashchange]=function(){t._pauseHashListener||t._navigate()},window.removeEventListener("DOMContentLoaded",window[a.DOMContentLoaded]),window[a.DOMContentLoaded]=function(){t._navigate(null,null,!0)},this.rawChildrenObject&&this.rawChildrenObject.length?this.rawChildrenObject.forEach(function(e){if(e&&"object"===(void 0===e?"undefined":n(e))){var r=e.props.route;r&&t.add(r,e)}}):this.rawChildren.forEach(function(e){var r=e.match(o.ROUTE);r&&t.add(r[1],e)}),this.bindLink(),"history"===this.props.mode?window.addEventListener("popstate",window[a.popstate]):window.addEventListener("hashchange",window[a.hashchange]),window.addEventListener("DOMContentLoaded",window[a.DOMContentLoaded])},onMountAsync:function(){this._navigate(null,null,!0)}}},function(t,e,r){"use strict";t.exports={REGEX:{ROUTE:/route(?:\s+)?=(?:\s+)?"(.*?)"/,CHANGE:/route-change(?:\s+)?=(?:\s+)?"(.*?)"/,IS_PRESERVE:/\spreserve[>\s=]/},PATH:{NOT_FOUND:"*"},NS:{hashchange:"___doz_router___hashchangeListener",popstate:"___doz_router___popstateListener",DOMContentLoaded:"___doz_router___DOMContentLoadedListener"},PRERENDER:"__DOZ_PRERENDER_PUBLIC_URL__",SSR:"__DOZ_SSR_PATH__",LS_LAST_PATH:"dozRouterLastPath"}},function(t,e,r){"use strict";t.exports=function(t){var e={};if(!t)return e;for(var r=t.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");o.length&&(e[o.splice(0,1)[0]]=decodeURIComponent(o.join("=")))}return e}},function(t,e,r){"use strict";t.exports=function(t){return t.toString().replace(/\/+$/,"").replace(/^\//,"")}},function(t,e,r){"use strict";t.exports=function(t){return t.replace(/\/{2,}/g,"/")}}])}); 