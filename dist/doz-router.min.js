// [DOZ-ROUTER]  Build version: 0.1.0  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("DozRouter",[],e):"object"==typeof exports?exports.DozRouter=e():t.DozRouter=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";t.exports=r(1)},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(2),o=i.REGEX,s=i.PATH,u=r(3),a=r(4);t.exports={props:{hash:"#",classActiveLink:"router-link-active",linkAttr:"router-link",mode:"hash",root:"/"},autoCreateChildren:!1,$_currentView:null,$_currentViewRaw:"",$_currentPath:null,$_routes:[],$_paramMap:{},$_param:{},$_routeNotFound:"",$_query:{},$_queryRaw:"",$_link:{},$removeView:function(){this.$_currentView&&(this.$_currentView.destroy(),this.$_currentView=null)},$setView:function(t,e,r){var n=this.$_currentViewRaw===t;if(e&&n){var i=this.$_currentView.children[0],o=i[e];"function"==typeof o&&o.call(i,this)}else r&&n?this.$_currentView.children[0].render():(this.$removeView(),this.$_currentView=this.mount(t));this.$_currentViewRaw=t},$query:function(t){return this.$_query[t]},$param:function(t){return this.$_param[t]},$navigate:function(t,e){var r=this,i=!1;t=t||window.location.hash.slice(this.props.hash.length);var o=t.split("?");t=a(o[0]),this.$_queryRaw=o[1]||"";for(var s=0;s<this.$_routes.length;s++){var c=this.$_routes[s],h=new RegExp("^"+c.path+"$"),p=t.match(h);if(p){i=!0,"object"===(void 0===e?"undefined":n(e))?this.$_param=Object.assign({},e):function(){var t=r.$_paramMap[c.path];r.$_query=u(r.$_queryRaw),p.slice(1).forEach(function(e,n){r.$_param[t[n]]=e})}(),this.$_currentPath=t,this.$setView(c.view,c.cb,c.preserve);break}}return i||(this.$_currentPath=null,this.$setView(this.$_routeNotFound||'"'+t+'" not found')),this.$activeLink(),i},$activeLink:function(){var t=this;Object.keys(this.$_link).forEach(function(e){var r=Boolean(t.$_link[e].length>1&&t.$_queryRaw);t.$_link[e].forEach(function(n){var i=!0;r&&(i=new RegExp(t.$_queryRaw+"$","g").test(n.href)),e===t.$_currentPath&&i?n.classList.add(t.props.classActiveLink):n.classList.remove(t.props.classActiveLink)})})},$add:function(t,e){if(t===s.NOT_FOUND)this.$_routeNotFound=e;else{var r=[],n=a(t);n=n.replace(/:(\w+)/g,function(t,e){return r.push(e),"([\\w-]+)"}),this.$_paramMap[n]=r;var i=e.match(o.CHANGE);i&&(i=i[1]);var u=o.IS_PRESERVE.test(e);this.$_routes.push({path:n,view:e,cb:i,preserve:u})}},$remove:function(t){for(var e=0;e<this.$_routes.length;e++){this.$_routes[e].path===a(t)&&this.$_routes.splice(e,1)}},$bindLink:function(){var t=this;this.$_link={},document.querySelectorAll("["+this.props.linkAttr+"]").forEach(function(e){var r=e.pathname||e.href;"history"===t.props.mode?e.addEventListener("click",function(n){n.preventDefault();var i=r+e.search;history.pushState(i,null,t.props.root+i),t.$navigate(i)}):e.href=t.props.hash+r+e.search;var n=r.split("?");r=a(n[0]),void 0===t.$_link[r]?t.$_link[r]=[e]:t.$_link[r].push(e)})},onAppReady:function(){var t=this;this.rawChildren.forEach(function(e){var r=e.match(o.ROUTE);r&&t.$add(r[1],e)}),this.$bindLink(),"history"===this.props.mode?window.addEventListener("popstate",function(e){t.$navigate(e.state)}):window.addEventListener("hashchange",function(){return t.$navigate()}),window.addEventListener("DOMContentLoaded",function(){return t.$navigate()})}}},function(t,e,r){"use strict";t.exports={REGEX:{ROUTE:/route(?:\s+)?=(?:\s+)?"(.*)"/,CHANGE:/route-change(?:\s+)?=(?:\s+)?"(.*?)"/,IS_PRESERVE:/\spreserve[>\s=]/},PATH:{NOT_FOUND:"*"}}},function(t,e,r){"use strict";t.exports=function(t){return t?JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)}):{}}},function(t,e,r){"use strict";t.exports=function(t){return t.toString().replace(/\/+$/,"").replace(/^\//,"")}}])}); 